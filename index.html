<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouDai Connecting Tamil</title>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
      color: #ffffff;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Responsive container */
    .container {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 15px;
    }

    @media (min-width: 768px) {
      .container {
        padding: 0 25px;
      }
    }

    @media (min-width: 1200px) {
      .container {
        padding: 0 40px;
      }
    }

    /* Header */
    header {
      background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%);
      padding: 20px 0;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    header h1 {
      margin: 0;
      font-size: clamp(18px, 4vw, 28px);
      font-weight: 700;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradient 3s ease infinite;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Top bar with search and filters */
    .top-bar {
      background: rgba(30, 30, 30, 0.8);
      backdrop-filter: blur(10px);
      padding: 15px 0;
      position: sticky;
      top: 80px;
      z-index: 99;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .search-filter-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .search-container {
      position: relative;
      flex: 1;
      max-width: 100%;
    }

    @media (min-width: 768px) {
      .search-container {
        max-width: 400px;
      }
    }

    .search-input {
      width: 100%;
      padding: 12px 50px 12px 20px;
      border-radius: 25px;
      border: 2px solid transparent;
      background: rgba(255,255,255,0.1);
      color: #fff;
      font-size: 16px;
      outline: none;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .search-input:focus {
      border-color: #4ecdc4;
      background: rgba(255,255,255,0.15);
      box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);
    }

    .search-input::placeholder {
      color: rgba(255,255,255,0.6);
    }

    .search-icon {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(255,255,255,0.6);
      pointer-events: none;
    }

    /* Filter controls */
    .filter-controls {
      display: flex;
      align-items: center;
      gap: 15px;
      flex-shrink: 0;
    }

    .date-filter-container {
      position: relative;
    }

    .calendar-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      color: #fff;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .calendar-btn:hover, .calendar-btn.active {
      background: #4ecdc4;
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(78, 205, 196, 0.4);
    }

    .date-input {
      position: absolute;
      top: 55px;
      right: 0;
      background: rgba(30, 30, 30, 0.95);
      border: 2px solid #4ecdc4;
      border-radius: 12px;
      padding: 12px;
      color: #fff;
      font-size: 14px;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      z-index: 1000;
      min-width: 200px;
      color-scheme: dark;
    }

    @media (max-width: 480px) {
      .date-input {
        right: -50px;
        min-width: 180px;
      }
    }

    .date-input:focus {
      outline: none;
      border-color: #45b7d1;
    }

    .date-input::-webkit-calendar-picker-indicator {
      background-color: #4ecdc4;
      border-radius: 3px;
      cursor: pointer;
    }

    .clear-filters-btn {
      background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
      border: none;
      border-radius: 20px;
      padding: 8px 16px;
      color: white;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .clear-filters-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
    }

    /* Channel Sections - Netflix Style */
    .channel-sections {
      padding: 20px 0 40px;
    }

    .channel-section {
      margin-bottom: 40px;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0 15px;
    }

    .section-header:hover {
      transform: translateX(5px);
    }

    .section-title {
      font-size: clamp(20px, 3vw, 28px);
      font-weight: 700;
      color: #fff;
      margin: 0;
    }

    .section-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .section-expand {
      color: rgba(255,255,255,0.7);
      font-size: 16px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-header:hover .section-expand {
      color: #4ecdc4;
      transform: translateX(5px);
    }

    .back-home-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      border-radius: 20px;
      padding: 8px 16px;
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .back-home-btn:hover {
      background: #4ecdc4;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(78, 205, 196, 0.4);
    }

    /* Horizontal scrolling container */
    .videos-container {
      position: relative;
      overflow: hidden;
    }

    .videos-scroll {
      display: flex;
      gap: 15px;
      overflow-x: auto;
      overflow-y: hidden;
      scroll-behavior: smooth;
      scrollbar-width: none;
      -ms-overflow-style: none;
      padding: 0 15px 20px;
    }

    .videos-scroll::-webkit-scrollbar {
      display: none;
    }

    /* Scroll buttons */
    .scroll-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.8);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      color: #fff;
      font-size: 20px;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
      display: none;
    }

    .scroll-btn:hover {
      background: rgba(78, 205, 196, 0.9);
      transform: translateY(-50%) scale(1.1);
    }

    .scroll-btn.left {
      left: 10px;
    }

    .scroll-btn.right {
      right: 10px;
    }

    .videos-container:hover .scroll-btn {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @media (max-width: 768px) {
      .scroll-btn {
        display: none !important;
      }
    }

    /* Video cards in horizontal scroll */
    .video-card-horizontal {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      position: relative;
      flex-shrink: 0;
      width: 280px;
    }

    @media (max-width: 768px) {
      .video-card-horizontal {
        width: 240px;
      }
    }

    @media (max-width: 480px) {
      .video-card-horizontal {
        width: 200px;
      }
    }

    .video-card-horizontal:hover {
      transform: scale(1.05);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      border-color: rgba(78, 205, 196, 0.5);
      z-index: 5;
    }

    .video-card-horizontal::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(78, 205, 196, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .video-card-horizontal:hover::before {
      opacity: 1;
    }

    /* Grid layout for expanded view */
    .video-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      padding: 20px 15px;
    }

    @media (min-width: 768px) {
      .video-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        padding: 20px 25px;
      }
    }

    @media (min-width: 1200px) {
      .video-grid {
        grid-template-columns: repeat(5, 1fr);
        gap: 25px;
        padding: 20px 40px;
      }
    }

    /* Video cards in grid */
    .video-card-grid {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      position: relative;
    }

    .video-card-grid:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      border-color: rgba(78, 205, 196, 0.5);
    }

    .video-card-grid::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(78, 205, 196, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .video-card-grid:hover::before {
      opacity: 1;
    }

    /* Thumbnail styles */
    .card-thumbnail {
      position: relative;
      width: 100%;
      height: 160px;
      overflow: hidden;
    }

    .video-card-grid .card-thumbnail {
      height: 180px;
    }

    @media (min-width: 768px) {
      .video-card-grid .card-thumbnail {
        height: 200px;
      }
    }

    .card-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .video-card-horizontal:hover .card-thumbnail img,
    .video-card-grid:hover .card-thumbnail img {
      transform: scale(1.1);
    }

    .play-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.7);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #4ecdc4;
      font-size: 24px;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .video-card-horizontal:hover .play-overlay,
    .video-card-grid:hover .play-overlay {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1.1);
    }

    /* Channel tag for grid mode */
    .channel-tag {
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(0,0,0,0.8);
      color: #4ecdc4;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(78, 205, 196, 0.3);
    }

    /* Card content */
    .card-content {
      padding: 16px;
    }

    .card-title {
      font-size: 14px;
      font-weight: 600;
      line-height: 1.4;
      margin: 0 0 8px 0;
      color: #fff;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .card-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      color: rgba(255,255,255,0.6);
    }

    .card-date {
      font-weight: 500;
    }

    /* Grid view header */
    .grid-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 40px 0 20px 0;
      padding: 0 15px;
    }

    @media (min-width: 768px) {
      .grid-header {
        padding: 0 25px;
      }
    }

    @media (min-width: 1200px) {
      .grid-header {
        padding: 0 40px;
      }
    }

    /* Video player */
    .video-player {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.95);
      backdrop-filter: blur(10px);
      z-index: 10000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .player-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      aspect-ratio: 16 / 9;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 25px 50px rgba(0,0,0,0.5);
    }

    .player-iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Loading animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: #4ecdc4;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* No results message */
    .no-results {
      text-align: center;
      padding: 60px 20px;
      color: rgba(255,255,255,0.6);
    }

    .no-results i {
      font-size: 64px;
      margin-bottom: 20px;
      color: rgba(255,255,255,0.3);
    }

    .no-results h3 {
      font-size: 24px;
      margin: 0 0 10px 0;
      color: rgba(255,255,255,0.8);
    }

    .no-results p {
      font-size: 16px;
      margin: 0;
    }

    /* Search results header */
    .search-results {
      margin-top: 40px;
    }

    .search-results .section-title {
      padding: 0 15px;
      margin-bottom: 20px;
    }

    @media (min-width: 768px) {
      .search-results .section-title {
        padding: 0 25px;
      }
    }

    @media (min-width: 1200px) {
      .search-results .section-title {
        padding: 0 40px;
      }
    }

    /* Hide sections */
    .hidden {
      display: none;
    }

    /* Dark scrollbar for webkit browsers */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(78, 205, 196, 0.6);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(78, 205, 196, 0.8);
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>🎬 YouDai Connecting Tamil</h1>
    </div>
  </header>

  <div class="top-bar">
    <div class="container">
      <div class="search-filter-container">
        <div class="search-container">
          <input type="text" id="searchBox" class="search-input" placeholder="Search videos...">
          <i class="fas fa-search search-icon"></i>
        </div>
        
        <div class="filter-controls">
          <div class="date-filter-container">
            <button class="calendar-btn" id="calendarBtn">
              <i class="fas fa-calendar-alt"></i>
            </button>
            <input type="date" id="dateFilter" class="date-input" style="display: none;">
          </div>
          <button class="clear-filters-btn" id="clearFilters" style="display: none;">
            <i class="fas fa-times"></i> Clear
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Channel sections view -->
    <div class="channel-sections" id="channelSections"></div>
    
    <!-- Grid view for single channel -->
    <div class="video-grid-container hidden" id="videoGridContainer">
      <div class="grid-header">
        <h2 class="section-title" id="gridTitle"></h2>
        <button class="back-home-btn" id="backButton">
          <i class="fas fa-home"></i> Back Home
        </button>
      </div>
      <div class="video-grid" id="videoGrid"></div>
    </div>
    
    <!-- Search results -->
    <div class="search-results hidden" id="searchResults">
      <h2 class="section-title" id="searchTitle">Search Results</h2>
      <div class="video-grid" id="searchGrid"></div>
    </div>
  </div>

  <div class="video-player" id="videoPlayer">
    <div class="player-container">
      <iframe id="playerIframe" class="player-iframe" allowfullscreen></iframe>
    </div>
  </div>

  <script>
const videos = [
/*  { 
    "platform": "youtube", 
    "id": "a7TuPgvdXjY", 
    "title": "Ethirneechal Thodargiradhu | EP - 226 | 10 Aug 2025 | Sun TV", 
    "mthumb": "https://img.youtube.com/vi/a7TuPgvdXjY/mqdefault.jpg",
    "dthumb": "https://img.youtube.com/vi/a7TuPgvdXjY/hqdefault.jpg",
    "channel": "SUN TV",
    "date": "2025-08-10"
  }, */
  { 
    "platform": "dailymotion", 
    "id": "k6lBBd8MzD5zXXDIg52", 
    "title": "Sakthivel", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6lBBd8MzD5zXXDIg52?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6lBBd8MzD5zXXDIg52",
    "channel": "VIJAY TV",
    "date": "2025-08-25"
  },
  { 
    "platform": "dailymotion", 
    "id": "k6YpvLVzuo5bOEDIg4U", 
    "title": "Kanmani Anbudan", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6YpvLVzuo5bOEDIg4U?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6YpvLVzuo5bOEDIg4U",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k34lixSVFq4uOKDIgaS", 
    "title": "Thendrale Mella Pesu", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k34lixSVFq4uOKDIgaS?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k34lixSVFq4uOKDIgaS",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k73wZM0qXPhs66DIg9C", 
    "title": "Dhanam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k73wZM0qXPhs66DIg9C?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k73wZM0qXPhs66DIg9C",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k3k6CPy0Ynn3B8DIgaQ", 
    "title": "Magale En Marumagale", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k3k6CPy0Ynn3B8DIgaQ?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k3k6CPy0Ynn3B8DIgaQ",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k6MjYagjbWq0DxDIg4S", 
    "title": "Aaha Kalyanam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6MjYagjbWq0DxDIg4S?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6MjYagjbWq0DxDIg4S",
    "channel": "VIJAY TV",
    "date": "2025-08-25"
  },
  { 
    "platform": "dailymotion", 
    "id": "k3jVVlix3hAKL2DIgaO", 
    "title": "Poongatru Thirumbuma", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k3jVVlix3hAKL2DIgaO?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k3jVVlix3hAKL2DIgaO",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k3DByWaxvavPRUDIg50", 
    "title": "Mahanadhi", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k3DByWaxvavPRUDIg50?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k3DByWaxvavPRUDIg50",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "kJWrqt0QDjLAH0DIg4W", 
    "title": "Pandian Stores", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/kJWrqt0QDjLAH0DIg4W?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/kJWrqt0QDjLAH0DIg4W",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k5CcbPrOXc59J7DIg9A", 
    "title": "Ayyanar Thunai", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k5CcbPrOXc59J7DIg9A?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k5CcbPrOXc59J7DIg9A",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k6stDhfHTjtAYdDIg54", 
    "title": "Siragadikka Aasai", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6stDhfHTjtAYdDIg54?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6stDhfHTjtAYdDIg54",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k7yyJNXA3hry0ODIg4Y", 
    "title": "Chinna Marumagal", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k7yyJNXA3hry0ODIg4Y?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k7yyJNXA3hry0ODIg4Y",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k3Zi99JRptVkwdDIgdk", 
    "title": "Sindhu Bairavi Kacheri Arambam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k3Zi99JRptVkwdDIgdk?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k3Zi99JRptVkwdDIgdk",
    "channel": "VIJAY TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "k4YB1618VtsPDmDIlp8", 
    "title": "Varisu", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k4YB1618VtsPDmDIlp8?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k4YB1618VtsPDmDIlp8",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25" 
  },
  { 
    "platform": "dailymotion", 
    "id": "kGqDTa9CsaoKC5DIm3c", 
    "title": "Idhayam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/kGqDTa9CsaoKC5DIm3c?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/kGqDTa9CsaoKC5DIm3c",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k6QN8ez38wVQOmDImC4", 
    "title": "Manasellam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6QN8ez38wVQOmDImC4?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6QN8ez38wVQOmDImC4",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k5oXE23vrnYPplDInhe", 
    "title": "Mounam Pesiyadhe", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k5oXE23vrnYPplDInhe?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k5oXE23vrnYPplDInhe",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k243VTZ3qrF9ICDIs2m", 
    "title": "Maari", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k243VTZ3qrF9ICDIs2m?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k243VTZ3qrF9ICDIs2m",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k6q5UEY3DvKzQIDIsfY", 
    "title": "Getti Melam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6q5UEY3DvKzQIDIsfY?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6q5UEY3DvKzQIDIsfY",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k6UeMTdsvJPxg6DIufo", 
    "title": "Chinna Siru Kiliye", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k6UeMTdsvJPxg6DIufo?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k6UeMTdsvJPxg6DIufo",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k2itHovhOfKZzcDIuLQ", 
    "title": "Veera", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k2itHovhOfKZzcDIuLQ?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k2itHovhOfKZzcDIuLQ",
    "channel": "ZEETAMIL TV",
    "date": "2025-08-25"  
  },
  { 
    "platform": "dailymotion", 
    "id": "k69bxjFRpcHLpODIuMo", 
    "title": "Ramayanam", 
    "mthumb": "https://www.dailymotion.com/thumbnail/video/k69bxjFRpcHLpODIuMo?size=240x180",
    "dthumb": "https://www.dailymotion.com/thumbnail/video/k69bxjFRpcHLpODIuMo",
    "channel": "SUN TV",
    "date": "2025-08-25"  
  }
];

    // DOM elements
    const elements = {
      channelSections: document.getElementById("channelSections"),
      videoGridContainer: document.getElementById("videoGridContainer"),
      videoGrid: document.getElementById("videoGrid"),
      searchResults: document.getElementById("searchResults"),
      searchGrid: document.getElementById("searchGrid"),
      searchBox: document.getElementById("searchBox"),
      calendarBtn: document.getElementById("calendarBtn"),
      dateFilter: document.getElementById("dateFilter"),
      clearFilters: document.getElementById("clearFilters"),
      backButton: document.getElementById("backButton"),
      gridTitle: document.getElementById("gridTitle"),
      searchTitle: document.getElementById("searchTitle"),
      videoPlayer: document.getElementById("videoPlayer"),
      playerIframe: document.getElementById("playerIframe")
    };

    let currentView = 'sections'; // 'sections', 'grid', 'search'
    let currentChannel = null;
    let isDatePickerVisible = false;

    // Initialize the app
    function init() {
      renderChannelSections();
      setupEventListeners();
    }

    // Event listeners
    function setupEventListeners() {
      elements.searchBox.addEventListener("input", debounce(handleSearch, 300));
      elements.dateFilter.addEventListener("change", handleSearch);
      elements.clearFilters.addEventListener("click", clearAllFilters);
      elements.calendarBtn.addEventListener("click", toggleDatePicker);
      elements.backButton.addEventListener("click", backToSections);
      
      // Close player when clicking outside the iframe
      elements.videoPlayer.addEventListener("click", (e) => {
        if (e.target === elements.videoPlayer) {
          closePlayer();
        }
      });
      
      // Close date picker when clicking outside
      document.addEventListener("click", (e) => {
        if (!e.target.closest('.date-filter-container')) {
          hideDatePicker();
        }
      });

      // Handle escape key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          if (isDatePickerVisible) {
            hideDatePicker();
          } else if (elements.videoPlayer.style.display === 'flex') {
            closePlayer();
          }
        }
      });

      // Handle orientation change for mobile
      window.addEventListener("orientationchange", handleOrientationChange);
      
      // Auto-detect fullscreen changes and handle orientation
      document.addEventListener("fullscreenchange", handleFullscreenChange);
      document.addEventListener("webkitfullscreenchange", handleFullscreenChange);
      document.addEventListener("mozfullscreenchange", handleFullscreenChange);
      document.addEventListener("msfullscreenchange", handleFullscreenChange);
    }

    // Utility functions
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    function getOptimalThumbnail(video) {
      return window.innerWidth < 768 ? video.mthumb : video.dthumb;
    }

    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-IN', { 
        day: 'numeric', 
        month: 'short',
        year: 'numeric'
      });
    }

    // Sort videos by date (latest first)
    function sortVideosByDate(videos) {
      return [...videos].sort((a, b) => new Date(b.date) - new Date(a.date));
    }

    // Date picker functions
    function toggleDatePicker() {
      if (isDatePickerVisible) {
        hideDatePicker();
      } else {
        showDatePicker();
      }
    }

    function showDatePicker() {
      elements.dateFilter.style.display = 'block';
      elements.calendarBtn.classList.add('active');
      isDatePickerVisible = true;
      setTimeout(() => elements.dateFilter.focus(), 100);
    }

    function hideDatePicker() {
      elements.dateFilter.style.display = 'none';
      elements.calendarBtn.classList.remove('active');
      isDatePickerVisible = false;
    }

    // Search and filter functions
    function handleSearch() {
      const query = elements.searchBox.value.toLowerCase().trim();
      const dateVal = elements.dateFilter.value;
      
      if (!query && !dateVal) {
        backToSections();
        return;
      }

      let filtered = videos;

      // Apply search filter
      if (query) {
        filtered = filtered.filter(v => 
          v.title.toLowerCase().includes(query) ||
          v.channel.toLowerCase().includes(query)
        );
      }

      // Apply date filter
      if (dateVal) {
        filtered = filtered.filter(v => v.date === dateVal);
        elements.calendarBtn.classList.add('active');
        // Hide date picker after selection
        elements.dateFilter.style.display = 'none';
        isDatePickerVisible = false;
      } else {
        elements.calendarBtn.classList.remove('active');
      }

      // Show clear filters button
      elements.clearFilters.style.display = 'block';

      // Show search results
      showSearchResults(filtered, query, dateVal);
    }

    function clearAllFilters() {
      elements.searchBox.value = '';
      elements.dateFilter.value = '';
      elements.dateFilter.style.display = 'none';
      elements.calendarBtn.classList.remove('active');
      elements.clearFilters.style.display = 'none';
      isDatePickerVisible = false;
      backToSections();
    }

    // View management functions
    function showView(view) {
      elements.channelSections.classList.toggle('hidden', view !== 'sections');
      elements.videoGridContainer.classList.toggle('hidden', view !== 'grid');
      elements.searchResults.classList.toggle('hidden', view !== 'search');
      currentView = view;
    }

    function backToSections() {
      showView('sections');
      currentChannel = null;
    }

    function showChannelGrid(channel) {
      const channelVideos = videos.filter(v => v.channel === channel);
      const sortedVideos = sortVideosByDate(channelVideos);
      elements.gridTitle.textContent = `${channel} Shows`;
      renderVideoGrid(sortedVideos, elements.videoGrid, false);
      currentChannel = channel;
      showView('grid');
    }

    function showSearchResults(filteredVideos, query, dateVal) {
      let title = 'Search Results';
      if (query && dateVal) {
        title = `Results for "${query}" on ${formatDate(dateVal)}`;
      } else if (query) {
        title = `Results for "${query}"`;
      } else if (dateVal) {
        title = `Videos from ${formatDate(dateVal)}`;
      }
      
      elements.searchTitle.textContent = title;
      const sortedResults = sortVideosByDate(filteredVideos);
      renderVideoGrid(sortedResults, elements.searchGrid, true);
      showView('search');
    }

    // Rendering functions
    function renderChannelSections() {
      // Define fixed channel order
      const channelOrder = ['SUN TV', 'VIJAY TV', 'ZEETAMIL TV'];
      const allChannels = [...new Set(videos.map(v => v.channel))];
      
      // Create ordered channels list, adding any new channels at the end
      const orderedChannels = [
        ...channelOrder.filter(channel => allChannels.includes(channel)),
        ...allChannels.filter(channel => !channelOrder.includes(channel))
      ];
      
      const sectionsHTML = orderedChannels.map(channel => {
        const channelVideos = videos.filter(v => v.channel === channel);
        const sortedChannelVideos = sortVideosByDate(channelVideos);
        
        return `
          <div class="channel-section" data-channel="${channel}">
            <div class="section-header">
              <h2 class="section-title">${channel} Shows</h2>
              <div class="section-actions">
                <span class="section-expand" onclick="showChannelGrid('${channel}')">
                  <span>View All</span>
                  <i class="fas fa-chevron-right"></i>
                </span>
              </div>
            </div>
            <div class="videos-container">
              <button class="scroll-btn left" onclick="scrollVideos('${channel}', 'left')">
                <i class="fas fa-chevron-left"></i>
              </button>
              <div class="videos-scroll" id="scroll-${channel.replace(/\s+/g, '')}">
                ${sortedChannelVideos.map(video => `
                  <div class="video-card-horizontal" data-platform="${video.platform}" data-id="${video.id}">
                    <div class="card-thumbnail">
                      <img src="${getOptimalThumbnail(video)}" alt="${video.title}" loading="lazy" onerror="handleImageError(this)">
                      <div class="play-overlay">
                        <i class="fas fa-play"></i>
                      </div>
                    </div>
                    <div class="card-content">
                      <h3 class="card-title">${video.title}</h3>
                      <div class="card-meta">
                        <span class="card-date">${formatDate(video.date)}</span>
                      </div>
                    </div>
                  </div>
                `).join('')}
              </div>
              <button class="scroll-btn right" onclick="scrollVideos('${channel}', 'right')">
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        `;
      }).join('');

      elements.channelSections.innerHTML = sectionsHTML;

      // Add click event listeners to video cards
      setTimeout(() => {
        const videoCards = elements.channelSections.querySelectorAll('.video-card-horizontal');
        videoCards.forEach(card => {
          card.addEventListener('click', (e) => {
            e.stopPropagation();
            const platform = card.dataset.platform;
            const id = card.dataset.id;
            const video = videos.find(v => v.platform === platform && v.id === id);
            
            if (video) {
              openPlayer(platform, id, video);
            }
          });
        });
      }, 100);
    }

    function renderVideoGrid(videoList, container, showChannelTags) {
      if (videoList.length === 0) {
        container.innerHTML = `
          <div class="no-results" style="grid-column: 1 / -1;">
            <i class="fas fa-search"></i>
            <h3>No videos found</h3>
            <p>Try adjusting your search criteria or filters</p>
          </div>
        `;
        return;
      }

      container.innerHTML = videoList.map(video => `
        <div class="video-card-grid" data-platform="${video.platform}" data-id="${video.id}">
          <div class="card-thumbnail">
            <img src="${getOptimalThumbnail(video)}" alt="${video.title}" loading="lazy" onerror="handleImageError(this)">
            ${showChannelTags ? `<span class="channel-tag">${video.channel}</span>` : ''}
            <div class="play-overlay">
              <i class="fas fa-play"></i>
            </div>
          </div>
          <div class="card-content">
            <h3 class="card-title">${video.title}</h3>
            <div class="card-meta">
              <span class="card-date">${formatDate(video.date)}</span>
            </div>
          </div>
        </div>
      `).join('');

      // Add click event listeners to video cards
      setTimeout(() => {
        const videoCards = container.querySelectorAll('.video-card-grid');
        videoCards.forEach(card => {
          card.addEventListener('click', () => {
            const platform = card.dataset.platform;
            const id = card.dataset.id;
            const video = videos.find(v => v.platform === platform && v.id === id);
            
            if (video) {
              openPlayer(platform, id, video);
            }
          });
        });
      }, 100);
    }

    // Scroll functions for horizontal sections
    function scrollVideos(channel, direction) {
      const scrollContainer = document.getElementById(`scroll-${channel.replace(/\s+/g, '')}`);
      const scrollAmount = 300;
      const scrollDirection = direction === 'left' ? -scrollAmount : scrollAmount;
      
      scrollContainer.scrollBy({
        left: scrollDirection,
        behavior: 'smooth'
      });
    }

    // Video player functions
    function openPlayer(platform, videoId, video = null) {
      let embedUrl = '';
      
      if (platform === 'youtube') {
        embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1&controls=1`;
      } else if (platform === 'dailymotion') {
        embedUrl = `https://www.dailymotion.com/embed/video/${videoId}?autoplay=1&ui-logo=0&controls=1`;
      }

      elements.playerIframe.src = embedUrl;
      elements.videoPlayer.style.display = 'flex';
      document.body.style.overflow = 'hidden';

      // Track video play event
      if (video) {
        trackEvent('video_play', {
          platform: platform,
          videoId: videoId,
          title: video.title,
          channel: video.channel
        });
      }

      // Note: Removed auto-fullscreen - let user control fullscreen via player controls
    }

    function closePlayer() {
      elements.videoPlayer.style.display = 'none';
      elements.playerIframe.src = '';
      document.body.style.overflow = '';

      // Exit fullscreen if active
      if (isFullscreen()) {
        exitFullscreen();
      }

      // Unlock orientation
      if (screen.orientation && screen.orientation.unlock) {
        try {
          screen.orientation.unlock();
        } catch (err) {
          console.log('Orientation unlock failed');
        }
      }
    }

    // Fullscreen helper functions
    function requestFullscreen(element) {
      if (element.requestFullscreen) {
        element.requestFullscreen();
      } else if (element.webkitRequestFullscreen) {
        element.webkitRequestFullscreen();
      } else if (element.mozRequestFullScreen) {
        element.mozRequestFullScreen();
      } else if (element.msRequestFullscreen) {
        element.msRequestFullscreen();
      }
    }

    function exitFullscreen() {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.webkitExitFullscreen) {
        document.webkitExitFullscreen();
      } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
      }
    }

    function isFullscreen() {
      return !!(document.fullscreenElement || 
                document.webkitFullscreenElement || 
                document.mozFullScreenElement || 
                document.msFullscreenElement);
    }

    function handleFullscreenChange() {
      const fullscreen = isFullscreen();
      
      // Only handle orientation if user initiated fullscreen and we're on mobile
      if (fullscreen && window.innerWidth <= 768) {
        // Check current orientation and lock to landscape if appropriate
        if (window.innerHeight < window.innerWidth) {
          // Already in landscape, lock it
          if (screen.orientation && screen.orientation.lock) {
            try {
              screen.orientation.lock('landscape').catch(() => {
                console.log('Landscape lock failed');
              });
            } catch (err) {
              console.log('Orientation API not supported');
            }
          }
        }
      }
      
      // Unlock orientation when exiting fullscreen
      if (!fullscreen) {
        if (screen.orientation && screen.orientation.unlock) {
          try {
            screen.orientation.unlock();
          } catch (err) {
            console.log('Orientation unlock failed');
          }
        }
      }
    }

    function handleOrientationChange() {
      setTimeout(() => {
        // Re-render sections with appropriate thumbnails after orientation change
        if (currentView === 'sections') {
          renderChannelSections();
        }
      }, 100);
    }

    // Handle window resize for responsive thumbnails
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        // Update thumbnails on resize based on current view
        if (currentView === 'sections') {
          renderChannelSections();
        } else if (currentView === 'grid' && currentChannel) {
          const channelVideos = videos.filter(v => v.channel === currentChannel);
          const sortedVideos = sortVideosByDate(channelVideos);
          renderVideoGrid(sortedVideos, elements.videoGrid, false);
        } else if (currentView === 'search') {
          handleSearch();
        }
      }, 250);
    });

    // Add keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (elements.videoPlayer.style.display === 'flex') {
        switch(e.key) {
          case 'f':
          case 'F':
            e.preventDefault();
            const playerContainer = document.querySelector('.player-container');
            if (!isFullscreen()) {
              requestFullscreen(playerContainer);
            } else {
              exitFullscreen();
            }
            break;
        }
      }
    });

    // Add error handling for images
    window.handleImageError = function(img) {
      img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMzMzIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K';
      img.alt = 'No thumbnail available';
    };

    // Add analytics tracking (placeholder)
    function trackEvent(eventName, data = {}) {
      // console.log('Analytics Event:', eventName, data);
      // This would integrate with your analytics service
    }

    // Global functions for onclick handlers
    window.scrollVideos = scrollVideos;
    window.showChannelGrid = showChannelGrid;

    // Initialize everything when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }

    // Service Worker registration for PWA capabilities (optional)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        // navigator.serviceWorker.register('/sw.js')
        //   .then(registration => console.log('SW registered'))
        //   .catch(error => console.log('SW registration failed'));
      });
    }
  </script>
</body>
</html>